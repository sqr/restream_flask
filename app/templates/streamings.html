{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block app_content %}
    <h2>AÃ±adir un stream</h2>
    {% if form %}
    {{ wtf.quick_form(form, extra_classes="form-horizontal", form_type="horizontal", horizontal_columns=('sm', 2, 10)) }}
    {% endif %}
    <br>
    <form action="" method="post" class="form form-horizontal form-horizontal" role="form">
    {{ form.hidden_tag() }}
        <div class = "form-group required">
            {{ form.title.label(class_="control-label col-sm-2") }}
            <div class = "col-sm-10">
                {{ form.title(size=32, class_="form-control") }}
            </div>
        </div>
        <div class = "form-group required">
            {{ form.origin.label(class_="control-label col-sm-2") }}
            <div class = "col-sm-10">
                {{ form.origin(size=32, class_="form-control") }}
            </div>
        </div>
        <div class = "form-group">
            <div class = "col-sm-offset-2 col-sm-10">
                <button type="button" class="btn btn-primary" onclick="myFunction2()">Ministros</button>
                <button type="button" class="btn btn-primary" onclick="myFunction3()">Presidente</button>
                <button type="button" class="btn btn-primary" onclick="myFunction4()">Congreso</button>
                <button type="button" class="btn btn-primary" onclick="myFunction5()">Senado</button>
            </div>
        </div>
        <div class = "form-group required">
            {{ form.server.label(class_="control-label col-sm-2") }}
            <div class = "col-sm-10">
                {{ form.server(size=32, class_="form-control") }}
            </div>
        </div>
        <div class = "form-group required">
            {{ form.stream_key.label(class_="control-label col-sm-2") }}
            <div class = "col-sm-10">
                {{ form.stream_key(size=32, class_="form-control") }}
            </div>
        </div>
        <div class = "form-group">
            <div class="col-sm-offset-2 col-sm-10">
                {{ form.submit_start(class_="btn btn-danger") }}
            </div>
        </div>
    </form>
    <br>
    <script>
        function myFunction2() {
            var peinejs = {{ peine|tojson }};
  document.getElementsByName("title")[0].value = peinejs;
    }
        function myFunction3() {
  document.getElementsByName("title")[0].value = "https://www.w3schools.com2";
    }
    </script>
    <table class="table">
        <thead>
          <tr>
            <th scope="col">Title</th>
            <th scope="col">Origin</th>
            <th scope="col">Server</th>
            <th scope="col">Stream Key</th>
            <th scope="col">User</th>
            <th scope="col">Started</th>
            <th scope="col"><div class="text-center">Status</div></th>
            <th scope="col"><div class="text-center">Stop</div></th>
          </tr>
        </thead>
        <tbody>
            {% for streaming in streamings %}
                {% include '_streaming.html' %}
            {% endfor %}
        </tbody>
    </table>
    <nav aria-label="...">
        <ul class="pager">
            <li class="previous{% if not prev_url %} disabled{% endif %}">
                <a href="{{ prev_url or '#' }}">
                    <span aria-hidden="true">&larr;</span> Newer streams
                </a>
            </li>
            <li class="next{% if not next_url %} disabled{% endif %}">
                <a href="{{ next_url or '#' }}">
                    Older streams<span aria-hidden="true">&rarr;</span>
                </a>
            </li>
        </ul>
    </nav>
{% endblock %}